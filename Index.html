<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rekap Absensi Siswa</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .attendance-table {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .meeting-header {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        @media print {
            body { print-color-adjust: exact; }
            .no-print { display: none; }
        }
        
        .summary-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin: 0 2px;
        }
        
        .hadir { background-color: #dcfce7; color: #166534; }
        .izin { background-color: #fef3c7; color: #92400e; }
        .sakit { background-color: #dbeafe; color: #1e40af; }
        .alpa { background-color: #fecaca; color: #dc2626; }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-gray-50 p-4"><!-- Login Form -->
  <div id="login-container" class="min-h-full flex items-center justify-center">
   <div class="max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-lg">
    <div class="text-center">
     <h2 class="text-3xl font-bold text-gray-900 mb-2">Login Sistem</h2>
     <p class="text-gray-600">Masukkan username dan password untuk mengakses rekap absensi</p>
    </div>
    <form id="login-form" class="mt-8 space-y-6">
     <div><label for="username" class="block text-sm font-medium text-gray-700 mb-2">Username</label> <input id="username" name="username" type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Masukkan username">
     </div>
     <div><label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label> <input id="password" name="password" type="password" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Masukkan password">
     </div>
     <div id="error-message" class="hidden text-red-600 text-sm text-center bg-red-50 p-3 rounded-md">
      Username atau password salah!
     </div><button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-200"> Masuk </button>
    </form>
   </div>
  </div><!-- Main Content (Hidden initially) -->
  <div id="main-content" class="hidden max-w-full mx-auto bg-white rounded-lg shadow-lg overflow-hidden"><!-- Header -->
   <div class="bg-blue-600 text-white p-6 text-center">
    <h1 id="table-title" class="text-2xl font-bold mb-2">Rekap Absensi Siswa</h1>
    <p id="school-info" class="text-blue-100">Tahun Ajaran Semester 1</p>
   </div><!-- Table Container -->
   <div class="overflow-x-auto">
    <table class="attendance-table w-full border-collapse">
     <thead>
      <tr class="bg-gray-100">
       <th class="border border-gray-300 px-3 py-2 text-center font-semibold text-sm">No.</th>
       <th class="border border-gray-300 px-4 py-2 text-left font-semibold text-sm min-w-48">Nama Siswa/i</th>
       <th class="border border-gray-300 px-3 py-2 text-center font-semibold text-sm">JK</th>
       <th class="border border-gray-300 px-3 py-2 text-center font-semibold text-sm">Kelas</th>
       <th class="border border-gray-300 px-3 py-2 text-center font-semibold text-sm bg-green-50">H</th>
       <th class="border border-gray-300 px-3 py-2 text-center font-semibold text-sm bg-yellow-50">I</th>
       <th class="border border-gray-300 px-3 py-2 text-center font-semibold text-sm bg-blue-50">S</th>
       <th class="border border-gray-300 px-3 py-2 text-center font-semibold text-sm bg-red-50">A</th>
      </tr>
     </thead>
     <tbody><!-- Student 1: MEI VARUSI MAKIN -->
      <tr class="hover:bg-gray-50">
       <td class="border border-gray-300 px-3 py-2 text-center">1</td>
       <td class="border border-gray-300 px-4 py-2 font-medium">MEI VARUSI MAKIN</td>
       <td class="border border-gray-300 px-3 py-2 text-center">P</td>
       <td class="border border-gray-300 px-3 py-2 text-center font-semibold">X-D</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-green-50 font-semibold text-green-700">10</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-yellow-50 font-semibold text-yellow-700">1</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-blue-50 font-semibold text-blue-700">1</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-red-50 font-semibold text-red-700">13</td>
      </tr><!-- Student 2: KHEIRIN CLAUDYA TANDI -->
      <tr class="hover:bg-gray-50">
       <td class="border border-gray-300 px-3 py-2 text-center">2</td>
       <td class="border border-gray-300 px-4 py-2 font-medium">KHEIRIN CLAUDYA TANDI</td>
       <td class="border border-gray-300 px-3 py-2 text-center">P</td>
       <td class="border border-gray-300 px-3 py-2 text-center font-semibold">X-J</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-green-50 font-semibold text-green-700">13</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-yellow-50 font-semibold text-yellow-700">5</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-blue-50 font-semibold text-blue-700">0</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-red-50 font-semibold text-red-700">6</td>
      </tr><!-- Student 3: ALEXANDRO RAFAEL ADITYA LUTURDAS -->
      <tr class="hover:bg-gray-50">
       <td class="border border-gray-300 px-3 py-2 text-center">3</td>
       <td class="border border-gray-300 px-4 py-2 font-medium">ALEXANDRO RAFAEL ADITYA LUTURDAS</td>
       <td class="border border-gray-300 px-3 py-2 text-center">L</td>
       <td class="border border-gray-300 px-3 py-2 text-center font-semibold">XI-A1</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-green-50 font-semibold text-green-700">17</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-yellow-50 font-semibold text-yellow-700">8</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-blue-50 font-semibold text-blue-700">0</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-red-50 font-semibold text-red-700">0</td>
      </tr><!-- Student 4: Valen Miracel Punuh -->
      <tr class="hover:bg-gray-50">
       <td class="border border-gray-300 px-3 py-2 text-center">4</td>
       <td class="border border-gray-300 px-4 py-2 font-medium">Valen Miracel Punuh</td>
       <td class="border border-gray-300 px-3 py-2 text-center">P</td>
       <td class="border border-gray-300 px-3 py-2 text-center font-semibold">XII-A1</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-green-50 font-semibold text-green-700">10</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-yellow-50 font-semibold text-yellow-700">11</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-blue-50 font-semibold text-blue-700">0</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-red-50 font-semibold text-red-700">3</td>
      </tr><!-- Student 5: Herman Gabriel Fonataba -->
      <tr class="hover:bg-gray-50">
       <td class="border border-gray-300 px-3 py-2 text-center">5</td>
       <td class="border border-gray-300 px-4 py-2 font-medium">Herman Gabriel Fonataba</td>
       <td class="border border-gray-300 px-3 py-2 text-center">L</td>
       <td class="border border-gray-300 px-3 py-2 text-center font-semibold">XII-A2</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-green-50 font-semibold text-green-700">14</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-yellow-50 font-semibold text-yellow-700">8</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-blue-50 font-semibold text-blue-700">2</td>
       <td class="border border-gray-300 px-3 py-2 text-center bg-red-50 font-semibold text-red-700">0</td>
      </tr>
     </tbody>
    </table>
   </div><!-- Legend -->
   <div class="p-6 bg-gray-50 border-t">
    <h3 class="text-lg font-semibold mb-3 text-gray-800">Keterangan:</h3>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
     <div class="flex items-center"><span class="summary-badge hadir mr-2">H</span> <span>Hadir</span>
     </div>
     <div class="flex items-center"><span class="summary-badge izin mr-2">I</span> <span>Izin</span>
     </div>
     <div class="flex items-center"><span class="summary-badge sakit mr-2">S</span> <span>Sakit</span>
     </div>
     <div class="flex items-center"><span class="summary-badge alpa mr-2">A</span> <span>Alpa</span>
     </div>
    </div>
    <div class="mt-4 text-xs text-gray-600">
     <p><strong>Simbol:</strong> âœ“ = Hadir, I = Izin, S = Sakit, A = Alpa, - = Belum ada pertemuan</p>
    </div>
   </div>
  </div>
  <script>
        // Login functionality
        const VALID_USERNAME = 'Smansa1';
        const VALID_PASSWORD = 'TKD';

        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('error-message');
            
            if (username === VALID_USERNAME && password === VALID_PASSWORD) {
                // Hide login form and show main content
                document.getElementById('login-container').classList.add('hidden');
                document.getElementById('main-content').classList.remove('hidden');
                errorMessage.classList.add('hidden');
            } else {
                // Show error message
                errorMessage.classList.remove('hidden');
                document.getElementById('password').value = '';
            }
        }

        // Add event listener for login form
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('login-form').addEventListener('submit', handleLogin);
        });

        const defaultConfig = {
            table_title: "Rekap Absensi Siswa",
            school_info: "Tahun Ajaran Semester 1"
        };

        async function onConfigChange(config) {
            const titleElement = document.getElementById('table-title');
            const schoolInfoElement = document.getElementById('school-info');
            
            if (titleElement) {
                titleElement.textContent = config.table_title || defaultConfig.table_title;
            }
            
            if (schoolInfoElement) {
                schoolInfoElement.textContent = config.school_info || defaultConfig.school_info;
            }
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["table_title", config.table_title || defaultConfig.table_title],
                ["school_info", config.school_info || defaultConfig.school_info]
            ]);
        }

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99fc6c9ec27f821d',t:'MTc2MzM1MzEwOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
